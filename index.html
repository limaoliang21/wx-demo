<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>个人网址</title>
<link rel="stylesheet" href="css/style.css">
<script src="js/index.js"></script>
<script>
    window.onload=function() {
        //导航条
        var oFix = document.getElementById('header-fixed');
        var t = getPos(oFix).top;
        window.onscroll=function() {
            var scrollTop = document.documentElement.scrollTop || document.body.scrollTop;
            //关于导航条
            if (scrollTop >= t) {
                oFix.className = 'header-home';
            } else {
                oFix.className = 'header-fixed';
            }
            //关于回到顶部
            if(scrollTop>=500){
                oTotop.style.display='block';
            }else{
                oTotop.style.display='none';
            }
        };
        //回到顶部
        var oTotop=document.getElementById('totop');
        var timer=null;
        oTotop.onclick=function(){
            clearInterval(timer);
            var iTarget=0;
            var start=document.documentElement.scrollTop || document.body.scrollTop;
            var dis=iTarget-start;
            var time=500;
            var count=Math.ceil(time/30);
            var n=0;
            timer=setInterval(function(){
                n++;
                var a=(1-n/count);
                var cur=start+dis*(1-a*a*a);
                document.documentElement.scrollTop=document.body.scrollTop=cur;
                if(n==count){
                    clearInterval(timer);
                }
            },30);
        };
        //自我介绍
        var str='  有一种路程叫万水千山，有一种情意叫海枯石烂。有一种约定叫天荒地老，有一种记忆叫刻骨铭心。有一种思念叫望穿秋水，有一种爱情叫至死不渝。有一种幸福叫天长地久，有一种拥有叫别无所求。有一种遥远叫天涯海角，有一种思念叫肝肠寸断，还有一种叫失恋无言以对。';
        var oWord=document.getElementById('word');
        for(var i=0; i<str.length; i++){
            var oSpan=document.createElement('span');
            oSpan.innerHTML=str.charAt(i);
            oWord.appendChild(oSpan);
        }
        var aSpan=oWord.children;
        var i=0;
        var timer=setInterval(function(){
            move(aSpan[i],{opacity:.8});
            i++;
            if(i==str.length){
                clearInterval(timer);
            }
        },300);
        document.getElementById('pao').onclick=function(){
            window.open('http://weibo.com/chutianbaby?refer_flag=1001030101_&is_hot=1');
        };
        //搜索
        var oFrame=document.getElementById('frame');
        var oTxt=oFrame.getElementsByTagName('input')[0];
        var oUl=oFrame.getElementsByTagName('ul')[0];
        var url='https://sp0.baidu.com/5a1Fazu8AA54nxGko9WTAnF6hhy/su';
        oTxt.onkeyup=function(){
            oUl.innerHTML='';
            jsonp({
                url:url,
                data:{
                    wd:oTxt.value
                },
                fnSucc:function(json){
                    var arr=json.s;
                    for(var i=0; i<arr.length; i++){
                        var oLi=document.createElement('li');
                        oLi.innerHTML=arr[i];
                        oUl.appendChild(oLi);
                    }
                    var aLi=oUl.children;
                    for(var i=0; i<aLi.length; i++){
                        aLi[i].onclick=function(){
                            window.open('https://www.baidu.com/s?ie=utf-8&f=8&rsv_bp=0&rsv_idx=1&tn=baidu&wd='+this.innerHTML);
                        }
                    }
                }
            })
        };
        var r=parseInt(Math.random()*256);
        var g=parseInt(Math.random()*256);
        var b=parseInt(Math.random()*256);
        var oP=document.getElementById('p');
        setInterval(function(){
            oP.style.color= 'rgb(' + r + ',' + g + ',' + b + ')';
        },30);
        //作品
        var oUl3d=document.getElementById('ul3d');
        var x=0;
        var y=0;
        oUl3d.onmousedown=function(ev){
            var disX=ev.clientX-y;
            var disY=ev.clientY-x;
            document.onmousemove=function(ev){
                x=ev.clientY-disY;
                y=ev.clientX-disX;
                oUl3d.style.transform='perspective(800px) rotateX('+-x+'deg) rotateY('+y+'deg)';
            };
            document.onmouseup=function(){
                document.onmousemove=null;
                document.onmouseup=null;
            };
            return false;
        };
        var aLi=oUl3d.children;
        aLi[0].onclick=function(){
            window.open('html/3Dpicture.html');
        };
        aLi[1].onclick=function(){
            window.open('html/3Dcarousel.html');
        };
        aLi[2].onclick=function(){
            window.open('html/iPhone.html');
        };
        aLi[3].onclick=function(){
            window.open('html/CountDown.html');
        };
        aLi[4].onclick=function(){
            window.open('html/3Dpicture.html');
        };
        aLi[5].onclick=function(){
            window.open('html/360movies.html');
        };
        //

    }
</script>
</head>
<body>
<!--导航-->
    <div class="header" id="home">
        <img class="banner" src="img/banner.jpg">
        <div class="log"></div>
        <h2>Welcome to my website</h2>
        <h1>I create beautiful websites</h1>
        <a class="on" href="#about"><img src="img/logo-3.png"></a>
        <div class="header-fixed" id="header-fixed">
           <div class="header-left">
               <span></span>
               <ul>
                   <li><a href="#home">HOME</a></li>
                   <li><a href="#about">ABOUT</a></li>
                   <li><a href="#search">SEARCH</a></li>
                   <li><a href="#works">WORKS</a></li>
                   <li><a href="#">4444</a></li>
               </ul>
           </div>
           <div class="header-right"></div>
        </div>
    </div>
<!--自我介绍-->
    <div class="about" id="about">
        <h3>About Me</h3>
        <div class="introduce">
            <div class="photo"><img id="pao" src="img/paopao.jpg"></div>
            <div class="word" id="word"></div>
        </div>
    </div>
<!--搜索-->
    <div class="search" id="search">
        <img class="hexa1" src="img/hexa1.png">
        <h4>What are you doing?</h4>
        <p id="p">听说世界那么大！让我们一起搜一下吧！</p>
        <div class="search-left">
            <img src="img/service-2.png">
        </div>
        <div class="search-right">
            <div class="frame" id="frame">
                <input type="text" name="" id="text">
                <ul></ul>
            </div>
        </div>
    </div>
<!--作品-->
    <div class="carousel" id="works">
        <p>Display of works</p>
        <img src="img/service-1.png">
        <ul id="ul3d">
            <li class="front">3D图片环</li>
            <li class="back">3D轮播图</li>
            <li class="left">iPhone</li>
            <li class="right">倒计时</li>
            <li class="top">上面</li>
            <li class="bottom">360影视</li>
        </ul>
    </div>
<!---->

<!--回到顶部-->
    <div class="totop" id="totop"><img src="img/top.png"></div>
<!--背景音乐-->
    <audio autoplay src="PerfectWorld.mp3" ></audio>
</body>
</html>